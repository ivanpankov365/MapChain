<!DOCTYPE html>
<html>
<head>
	<title>Создать карточку объекта</title>
	<meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!--<meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">-->
    <!--<link href="css/ratchet.css" rel="stylesheet">-->
    <script src="navi.js"></script>
    <script src="config.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="createQestSubmit.js"></script>
    <script src="deployContract.js"></script>
    <script src="main.css"></script>
    <script src="quest.js"></script>

    <script>
        if (typeof web3 !== 'undefined') {
            web3 = new Web3(web3.currentProvider);
        } else {
            // set the provider you want from Web3.providers
            alert('Please activate MetaMask Plugin and reload page! You can find it here: https://metamask.io/')
        }
    </script>
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 100%;
            width: 77%;
            position: absolute;
            left: 350px;
            margin: 0;
            padding: 0;
        }
        /* Optional: Makes the sample page fill the window. */
        html, body {
           /* height: 100%;
            width: 87%;
            position: absolute;
            left: 190px;
            margin: 0;
            padding: 0;*/
        }

        #left_panel {
            height: 100%;
            width: 100%;
            position: absolute;
            /*left: 350px;*/
            margin: 0;
            padding: 0;
        }

        #description_of_step {
            height: 50%;
            width: 21%;
            position: absolute;
            top: 200px;
            margin: 0;
            padding: 0;
        }
        #button {
            height: 10%;
            width: 10%;
            position: absolute;
            bottom: 100px;
            left: 70px;
            margin: 0;
            padding: 0;
        }
        #nameQuest {
            height: 10%;
            width: 21%;
            position: absolute;
            top: 100px;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<!--<div id="lef_panel">
    <h3>Hi! Here you can create your new super mega quest!!</h3>
    <form action="">
        <p><b>Price for the one step:</b><br>
            <input id="price" type="text" size="40" required>
        </p>
        <p><b>Number of steps:</b><br>
            <input id="steps" type="text" size="40" required>
        </p><input type="button" onclick="createQestSubmit()" value="Create my fucking Quest"><br />
    </form>

</div>-->

<div id="left_panel">
    <h1>Create you Quest!</h1>
    <script>
        if(step == 1){
            let leftPanel = document.getElementById('left_panel');
            let nameQuest = document.createElement('textarea');
            nameQuest.id = 'nameQuest';
            nameQuest.placeholder = 'name of your Quest';
            let textarea = document.getElementById('description_of_step');
            leftPanel.insertBefore(nameQuest,textarea);
        }
    </script>
    <textarea id="description_of_step" placeholder="description of step" required></textarea><br><br>
    <button id="button" onclick="nextStep(lng,lat)">Create Next Step</button>
</div>

<div id="map"></div>
<script>
    var map;
    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 55.761315757185166, lng: 37.65203475952149},
            zoom: 8
        });

        google.maps.event.addListener(map, 'click', function(event) {
            placeMarker(event.latLng);
            pointLocation = event.latLng;
            console.log('pointLocation: ', pointLocation);
        });

    }

    function placeMarker(location) {
        var marker = new google.maps.Marker({
            position: location,
            map: map
        });
        console.log('location.LatLng', location.lat());
        console.log('location.LatLng', location.lng());
        lng = location.lng();
        lat = location.lat();
        // markers.push(marker);
    }
</script>


<script>


//document.getElementById("create").addEventListener("click", function() {
	// Получаем токен для авторизации
	/*getToken(email,password).then((token)=>{
		createNaviaddress(token);
	});*/
//});



</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtJsuDvrKcBeURzwglw1kfPDdOyEAEtPU&callback=initMap"
        async defer></script>
</body>
</body>
</html>